<tt>
&lt;html&gt;<br>
&lt;body&gt;<br>
If&nbsp;and&nbsp;as&nbsp;long&nbsp;as&nbsp;you&nbsp;run&nbsp;two&nbsp;processes&nbsp;there&nbsp;is&nbsp;no&nbsp;problem.&lt;br&gt;&lt;br&gt;<br>
1)&nbsp;Your&nbsp;CGI&nbsp;application&nbsp;to&nbsp;execute&nbsp;a&nbsp;call&nbsp;to&nbsp;an&nbsp;application&nbsp;in&nbsp;your<br>
server&nbsp;machine&lt;br&gt;<br>
2)&nbsp;The&nbsp;Application&nbsp;which&nbsp;is&nbsp;invoked&nbsp;by&nbsp;the&nbsp;CGI.&lt;br&gt;&lt;br&gt;<br>
The&nbsp;CGI&nbsp;is&nbsp;only&nbsp;to&nbsp;send&nbsp;some&nbsp;parameters&nbsp;to&nbsp;the&nbsp;main&nbsp;Application&nbsp;to<br>
indicate&nbsp;what&nbsp;you&nbsp;want&nbsp;it&nbsp;to&nbsp;do.&lt;br&gt;&lt;br&gt;<br>
A&nbsp;proper&nbsp;set&nbsp;of&nbsp;rules&nbsp;for&nbsp;this&nbsp;would&nbsp;be&nbsp;as&nbsp;follows&lt;br&gt;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;Halt&nbsp;server&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;Start&nbsp;Server&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&nbsp;Reboot&nbsp;PC&lt;br&gt;&lt;br&gt;<br>
The&nbsp;fourth&nbsp;optional&nbsp;parameter&nbsp;I&nbsp;am&nbsp;toying&nbsp;with&nbsp;now&nbsp;since&nbsp;I&nbsp;keep&nbsp;having<br>
problems&nbsp;keeping&nbsp;Xitami&nbsp;alive&nbsp;&lt;br&gt;<br>
since&nbsp;FTP&nbsp;keep&nbsp;hanging&nbsp;up&nbsp;with&nbsp;nasty&nbsp;C&nbsp;errors&nbsp;is&nbsp;a&nbsp;checker&nbsp;that&nbsp;can&nbsp;lay<br>
dormant&nbsp;in&nbsp;the&nbsp;background&nbsp;&lt;br&gt;<br>
and&nbsp;run&nbsp;a&nbsp;check&nbsp;every&nbsp;30&nbsp;seconds&nbsp;to&nbsp;ensure&nbsp;that&nbsp;Xitami&nbsp;is&nbsp;actually&nbsp;up&nbsp;and<br>
running.&lt;br&gt;&lt;br&gt;<br>
The&nbsp;reboot&nbsp;PC&nbsp;I&nbsp;made&nbsp;into&nbsp;a&nbsp;CGI&nbsp;to&nbsp;force&nbsp;a&nbsp;full&nbsp;system&nbsp;flush&nbsp;at&nbsp;a&nbsp;set<br>
time&nbsp;every&nbsp;night.&lt;br&gt;<br>
If&nbsp;I&nbsp;miss&nbsp;to&nbsp;log&nbsp;in&nbsp;and&nbsp;run&nbsp;it,&nbsp;It&nbsp;will&nbsp;run&nbsp;itself&nbsp;by&nbsp;the&nbsp;Scheduler&nbsp;to<br>
force&nbsp;a&nbsp;flush&nbsp;of&nbsp;the&nbsp;system.&lt;br&gt;&lt;br&gt;<br>
Since&nbsp;Xitami&nbsp;can&nbsp;be&nbsp;set&nbsp;to&nbsp;run&nbsp;on&nbsp;boot&nbsp;up,&nbsp;this&nbsp;is&nbsp;not&nbsp;a&nbsp;problem<br>
either.&lt;br&gt;&lt;br&gt;<br>
Further&nbsp;more,&nbsp;if&nbsp;your&nbsp;config&nbsp;is&nbsp;ok,&nbsp;and&nbsp;you&nbsp;execute&nbsp;a&nbsp;cgi&nbsp;to&nbsp;reset&nbsp;your<br>
machine,&nbsp;you&nbsp;can&nbsp;just&nbsp;as&lt;br&gt;<br>
well&nbsp;do&nbsp;this&nbsp;from&nbsp;the&nbsp;cgi&nbsp;if&nbsp;you&nbsp;have&nbsp;another&nbsp;app&nbsp;restarting&nbsp;it<br>
again.&lt;br&gt;&lt;br&gt;<br>
I&nbsp;dont&nbsp;see&nbsp;any&nbsp;problems&nbsp;whatsoever&nbsp;with&nbsp;this&nbsp;and&nbsp;in&nbsp;fact&nbsp;wrote&nbsp;my<br>
solutions&nbsp;in&nbsp;VB&nbsp;5&nbsp;to&nbsp;keep&nbsp;it&nbsp;simple&nbsp;fast&nbsp;and&nbsp;practical.&lt;br&gt;&lt;br&gt;<br>
MRJ&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
At&nbsp;18:47&nbsp;04/01/2006,&nbsp;you&nbsp;wrote:&lt;br&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;type=cite&nbsp;class=cite&nbsp;cite=&quot;&quot;&gt;This&nbsp;all&nbsp;seems&amp;nbsp;&nbsp;a&nbsp;bit&nbsp;too<br>
complicated&nbsp;for&nbsp;a&nbsp;simple&nbsp;process.&lt;br&gt;&lt;br&gt;<br>
The&nbsp;problem&nbsp;with&nbsp;killing&nbsp;and&nbsp;restarting&nbsp;the&nbsp;service&nbsp;via&nbsp;cgi&nbsp;(and&nbsp;I&nbsp;think<br>
php)&nbsp;is&nbsp;that&nbsp;when&nbsp;you&nbsp;kill&nbsp;the&nbsp;server&nbsp;you&nbsp;will&nbsp;also&nbsp;kill&nbsp;the&nbsp;process&nbsp;that<br>
is&nbsp;executing&nbsp;the&nbsp;kill/restart&nbsp;commands.&amp;nbsp;&nbsp;The&nbsp;kill&nbsp;command&nbsp;will&nbsp;work<br>
and&nbsp;will&nbsp;stop&nbsp;the&nbsp;service,&nbsp;but&nbsp;now&nbsp;that&nbsp;the&nbsp;service&nbsp;is&nbsp;stopped&nbsp;the&nbsp;cgi<br>
will&nbsp;be&nbsp;terminated&nbsp;which&nbsp;means&nbsp;the&nbsp;second&nbsp;part&nbsp;of&nbsp;the&nbsp;the&nbsp;perl&nbsp;process,<br>
&amp;quot;restart&amp;quot;,&nbsp;won't&nbsp;get&nbsp;executed&nbsp;simply&nbsp;because&nbsp;the&nbsp;CGI&nbsp;process<br>
has&nbsp;already&nbsp;been&nbsp;terminated.&lt;br&gt;&lt;br&gt;<br>
I&nbsp;know&nbsp;this&nbsp;is&nbsp;a&nbsp;fact&nbsp;for&nbsp;the&nbsp;CGI&nbsp;process&nbsp;but&nbsp;I&nbsp;am&nbsp;not&nbsp;certain&nbsp;about&nbsp;the<br>
PHP.&amp;nbsp;&nbsp;CGI&nbsp;is&nbsp;a&nbsp;engine&nbsp;that&nbsp;runs&nbsp;and&nbsp;execute&nbsp;web&nbsp;based&nbsp;perl<br>
scripts.&amp;nbsp;&nbsp;However&nbsp;I&nbsp;think&nbsp;the&nbsp;beauty&nbsp;of&nbsp;PHP&nbsp;is&nbsp;that&nbsp;there&nbsp;is&nbsp;no<br>
engine&nbsp;managing&nbsp;php&nbsp;scripts,&nbsp;which&nbsp;means&nbsp;if&nbsp;a&nbsp;php&nbsp;script&nbsp;is&nbsp;run&nbsp;via&nbsp;a<br>
url,&nbsp;that&nbsp;the&nbsp;php&nbsp;script&nbsp;will&nbsp;load&nbsp;into&nbsp;memory&nbsp;and&nbsp;execute&nbsp;even&nbsp;if&nbsp;the<br>
webserver&nbsp;is&nbsp;killed&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;being&nbsp;executed.&nbsp;Someone&nbsp;might&nbsp;be<br>
able&nbsp;to&nbsp;elaborate&nbsp;on&nbsp;the&nbsp;PHP&nbsp;process&nbsp;but&nbsp;I&nbsp;think&nbsp;thats&nbsp;how&nbsp;PHP<br>
works.&lt;br&gt;<br>
&lt;br&gt;<br>
Someone&nbsp;else&nbsp;suggested&nbsp;use&nbsp;the&nbsp;&amp;quot;server&nbsp;refresh&amp;quot;&nbsp;feature&nbsp;in&nbsp;the<br>
defaults.cfg&nbsp;but&nbsp;this&nbsp;means&nbsp;its&nbsp;an&nbsp;automated&nbsp;thing&nbsp;and&nbsp;doesn't&nbsp;give&nbsp;you<br>
the&nbsp;ability&nbsp;to&nbsp;do&nbsp;it&nbsp;remotely,&nbsp;quickly,&nbsp;etc.&amp;nbsp;&nbsp;when&nbsp;ever&nbsp;you<br>
want.&amp;nbsp;&nbsp;You&nbsp;need&nbsp;another&nbsp;way&nbsp;of&nbsp;executing&nbsp;a&nbsp;perl/php&nbsp;script&nbsp;remotely<br>
that&nbsp;isn't&nbsp;done&nbsp;via&nbsp;the&nbsp;URL,&nbsp;or&nbsp;via&nbsp;the&nbsp;same&nbsp;webserver.&amp;nbsp;&nbsp;Maybe&nbsp;run&nbsp;a<br>
second&nbsp;web&nbsp;service&nbsp;on&nbsp;a&nbsp;different&nbsp;port&nbsp;that&nbsp;simply&nbsp;manages&nbsp;the<br>
kill/restart&nbsp;of&nbsp;the&nbsp;first&nbsp;service.&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;<br>
Russel&nbsp;P.&nbsp;Olinger&lt;br&gt;<br>
(310)&nbsp;466-3399&lt;br&gt;<br>
rolinger1@hotmail.com&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;type=cite&nbsp;class=cite&nbsp;cite=&quot;&quot;&gt;From:&nbsp;Martin&nbsp;Bleisteiner<br>
&amp;lt;mail@bleisteiner.net&amp;gt;&lt;br&gt;<br>
Reply-To:&nbsp;Xitami&nbsp;Users&nbsp;General&nbsp;Discussion<br>
&amp;lt;xitami@lists.xitami.org&amp;gt;&lt;br&gt;<br>
To:&nbsp;Xitami&nbsp;Users&nbsp;General&nbsp;Discussion&nbsp;&amp;lt;xitami@lists.xitami.org&amp;gt;&lt;br&gt;<br>
Subject:&nbsp;RE:&nbsp;[Xitami]&nbsp;RE:&nbsp;Stopping&nbsp;and&nbsp;restarting&nbsp;(or&nbsp;resetting)<br>
Xitamiwithperl&lt;br&gt;<br>
Date:&nbsp;Wed,&nbsp;4&nbsp;Jan&nbsp;2006&nbsp;19:33:02&nbsp;+0100&lt;br&gt;&lt;br&gt;<br>
Hello,&lt;br&gt;&lt;br&gt;<br>
There&nbsp;are&nbsp;lots&nbsp;of&nbsp;different&nbsp;&amp;quot;kill&amp;quot;&nbsp;tools&nbsp;out&nbsp;there.&nbsp;Most&nbsp;of<br>
them&nbsp;can&nbsp;be&nbsp;set&nbsp;to&nbsp;different&nbsp;&amp;quot;brutality&amp;quot;&nbsp;levels.&nbsp;First&nbsp;they&nbsp;try<br>
to&nbsp;stop&nbsp;the&nbsp;running&nbsp;task&nbsp;by&nbsp;sending&nbsp;a&nbsp;kind&nbsp;of&nbsp;&amp;quot;Alt-F4&amp;quot;&nbsp;command.<br>
When&nbsp;the&nbsp;task&nbsp;is&nbsp;still&nbsp;running&nbsp;properly&nbsp;it&nbsp;will&nbsp;react&nbsp;by&nbsp;closing&nbsp;all&nbsp;open<br>
files&nbsp;and&nbsp;terminate&nbsp;the&nbsp;regular&nbsp;way.&nbsp;After&nbsp;this,&nbsp;when&nbsp;no&nbsp;reaction,&nbsp;the<br>
running&nbsp;.exe&nbsp;can&nbsp;be&nbsp;really&nbsp;&amp;quot;killed&amp;quot;&nbsp;and&nbsp;can&nbsp;be&nbsp;kicked&nbsp;out&nbsp;of<br>
memory.&lt;br&gt;&lt;br&gt;<br>
I'm&nbsp;running&nbsp;a&nbsp;scheduled&nbsp;task&nbsp;that&nbsp;is&nbsp;testing&nbsp;the&nbsp;Xitami&nbsp;server&nbsp;every<br>
minute&nbsp;by&nbsp;a&nbsp;simple&nbsp;http-Get,&nbsp;and&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;answer&nbsp;probably&nbsp;Xitami<br>
was&nbsp;shot&nbsp;by&nbsp;unknown&nbsp;reason&nbsp;(maybe&nbsp;my&nbsp;own&nbsp;PHP&nbsp;scripts&nbsp;do&nbsp;so&nbsp;by&nbsp;fault).<br>
This&nbsp;happens&nbsp;2-3&nbsp;times&nbsp;a&nbsp;day&nbsp;to&nbsp;me.&nbsp;After&nbsp;a&nbsp;defect&nbsp;is&nbsp;recognized,&nbsp;Xitami<br>
becomes&nbsp;killed&nbsp;and&nbsp;restarted&nbsp;in&nbsp;the&nbsp;way&nbsp;I&nbsp;mentioned.&nbsp;I&nbsp;never&nbsp;found<br>
problems&nbsp;when&nbsp;doing&nbsp;so.&nbsp;No&nbsp;problems&nbsp;with&nbsp;open&nbsp;files,&nbsp;even&nbsp;when&nbsp;PHP&nbsp;scrips<br>
are&nbsp;called.&lt;br&gt;&lt;br&gt;<br>
Martin&lt;br&gt;&lt;br&gt;<br>
-----&nbsp;Original&nbsp;Message&nbsp;---------------&lt;br&gt;&lt;br&gt;<br>
&amp;gt;Yes&nbsp;but&nbsp;is&nbsp;it&nbsp;safe&nbsp;to&nbsp;kill&nbsp;Xitami&nbsp;just&nbsp;like&nbsp;that&nbsp;whenever&nbsp;you&nbsp;feel<br>
like&lt;br&gt;<br>
&amp;gt;it?&nbsp;Runing&nbsp;CGIs,&nbsp;open&nbsp;files&nbsp;and&nbsp;all..&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;Ayhan&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;try&nbsp;to&nbsp;download&nbsp;Windows&nbsp;Command&nbsp;line&nbsp;Tool&nbsp;&amp;quot;kill.exe&amp;quot;&lt;br&gt;<br>
&amp;gt;Then&nbsp;try&nbsp;to&nbsp;put&nbsp;two&nbsp;Shell&nbsp;Commands&nbsp;by&nbsp;PHP:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;shell(&amp;quot;kill&nbsp;xiwin32.exe&amp;quot;);&lt;br&gt;<br>
&amp;gt;shell(&amp;quot;xiwin32.exe&amp;quot;);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;-&nbsp;or&nbsp;something&nbsp;like&nbsp;this.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;First&nbsp;line&nbsp;kills&nbsp;all&nbsp;active&nbsp;tasks&nbsp;of&nbsp;Xitami,&nbsp;the&nbsp;second&nbsp;line&nbsp;starts<br>
new&lt;br&gt;<br>
&amp;gt;Xitami.&lt;br&gt;<br>
&amp;gt;Refer&nbsp;to&nbsp;the&nbsp;manual&nbsp;of&nbsp;the&nbsp;kill.exe&nbsp;tool.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;Martin&lt;br&gt;<br>
&amp;gt;&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Xitami&nbsp;Users&nbsp;Mailing&nbsp;List&nbsp;--&nbsp;For&nbsp;Xitami&nbsp;support&lt;br&gt;<br>
To&nbsp;unsubscribe:<br>
&lt;a&nbsp;href=&quot;http://lists.xitami.org/mailman/listinfo/xitami&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.xitami.org/mailman/listinfo/xitami&lt;/a&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Xitami&nbsp;Users&nbsp;Mailing&nbsp;List&nbsp;--&nbsp;For&nbsp;Xitami&nbsp;support&lt;br&gt;<br>
To&nbsp;unsubscribe:<br>
&lt;a&nbsp;href=&quot;http://lists.xitami.org/mailman/listinfo/xitami&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.xitami.org/mailman/listinfo/xitami&lt;/a&gt;&lt;br&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;x-sigsep&gt;&lt;p&gt;&lt;/x-sigsep&gt;<br>
&lt;font&nbsp;face=&quot;Verdana&quot;&nbsp;size=2&nbsp;color=&quot;#800000&quot;&gt;&lt;b&gt;<br>
-©2005-------------------------------&lt;br&gt;<br>
&lt;/font&gt;&lt;font&nbsp;face=&quot;Verdana&quot;&nbsp;size=1&nbsp;color=&quot;#800000&quot;&gt;MRJ&nbsp;Information<br>
Technology&nbsp;Ltd.&lt;br&gt;<br>
35&nbsp;Camden&nbsp;High&nbsp;St.,&nbsp;Camden/London,&nbsp;NW1&nbsp;7JE&lt;br&gt;<br>
United&nbsp;Kingdom&nbsp;&lt;x-tab&gt;&amp;nbsp;&lt;/x-tab&gt;&amp;nbsp;<br>
&lt;a&nbsp;href=&quot;http://www.mrjdesign.net/&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://www.mrjdesign.net&lt;/a&gt;&lt;/b&gt;&lt;/font&gt;&nbsp;&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
